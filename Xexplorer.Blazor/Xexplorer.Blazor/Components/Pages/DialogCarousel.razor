@using Xexplorer.Blazor.Utils
<MudDialog>
    <DialogContent>
        <MudCarousel TData="string" Class="carousel"
                     ShowArrows="true" ShowBullets="true"
                     EnableSwipeGesture="true"
                     AutoCycle="true" AutoCycleTime="TimeSpan.FromSeconds(1)"> 
            @foreach (var img in Snapshots)
            {
                <MudCarouselItem>
                    <MudPaper Class="image-paper">
                        <MudImage Src="@($"{AppsettingsUtils.Default.Api.BaseUrl}/{Api}?name={img}")"
                                  ObjectFit="ObjectFit.Contain"
                                  Class="image-item-max"></MudImage>
                    </MudPaper>
                </MudCarouselItem>
            } 
        </MudCarousel>
    </DialogContent>
</MudDialog>
<style>
    .carousel{
        width: 100%;
        height: 80vh; /* 高度占屏幕百分比 */
        display: flex; 
    }
    .image-paper{
        display: flex;
        justify-content: center;
        align-items: center;
        padding-top: 50px;
    }
    .image-item-max {
        display: block;
        width: 100%;
        height: 100%;
        max-height: 70vh;
        border: 2px solid #ccc;
        border-radius: 8px;
        background-color: #323539;
        transition: transform 0.3s ease, box-shadow 0.2s ease;
        object-fit: contain; /* 确保图片比例不失真 */
    }
</style>
@code {
    [CascadingParameter] 
    private IMudDialogInstance MudDialog { get; set; }

    [Parameter]
    public string Api { get; set; } = AppsettingsUtils.Default.Api.GetImageApi;

    [Parameter]
    public List<string> Snapshots { get; set; } = new(); 
}